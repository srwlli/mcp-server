{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CodeRef API Documentation Schema",
  "description": "UDS schema for API.md - API reference following POWER framework",
  "type": "object",
  "document_type": "api",
  "required_sections": [
    "Purpose",
    "Overview",
    "What/Why/When",
    "Examples",
    "References"
  ],
  "optional_sections": [
    "Authentication",
    "Endpoints",
    "Request/Response Formats",
    "Error Codes",
    "Rate Limiting",
    "Versioning",
    "SDKs & Client Libraries"
  ],
  "required_metadata": {
    "workorder_id": {
      "type": "string",
      "pattern": "^WO-[A-Z0-9]+(-[A-Z0-9]+)+-\\d{3}$"
    },
    "generated_by": {
      "type": "string",
      "pattern": "^coderef-docs v.*$"
    },
    "api_version": {
      "type": "string",
      "pattern": "^v\\d+(\\.\\d+)?$",
      "description": "API version (e.g., v1, v2.1)"
    }
  },
  "validation_rules": {
    "critical": [
      "Must follow POWER framework",
      "Must have workorder_id",
      "Must have API version",
      "Must document all public endpoints"
    ],
    "warnings": [
      "Should include authentication examples",
      "Should document error responses",
      "Should include request/response examples"
    ]
  }
}
