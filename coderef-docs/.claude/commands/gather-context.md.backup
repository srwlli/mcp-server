**üö® CRITICAL: ASK ONE QUESTION AT A TIME üö®**
**üö® THIS IS AN INTERACTIVE INTERVIEW - ONE QUESTION PER MESSAGE üö®**

Gather feature requirements and context before planning implementation.

This workflow helps you create a structured briefing (feature-context.json) that captures WHAT the user wants before diving into HOW to implement it.

**‚ö†Ô∏è MANDATORY INTERACTION PATTERN ‚ö†Ô∏è**

This is an INTERACTIVE interview process. You MUST:
- Ask a single question
- Wait for the user's response
- Process their answer
- Then ask the next question

DO NOT ask multiple questions in a single message. DO NOT provide a list of questions for the user to answer all at once.

**Workflow:**

1. **Get feature name** from user
   - Ask: "What's the feature name? (e.g., 'user-authentication', 'dark-mode')"
   - Create directory: `coderef/working/<feature-name>/`

2. **Create initial outline**
   - Feature name
   - Initial description (from user's request)
   - Goal (inferred or asked)

3. **Conduct Q&A interview** to refine context

   **üö® INTERVIEW RULES (ABSOLUTELY REQUIRED) üö®**
   - ‚ö†Ô∏è **Ask ONE question at a time** - This is MANDATORY, not optional
   - ‚ö†Ô∏è **NEVER batch multiple questions in a single message**
   - Format each question with numbered choices or yes/no options for better UX
   - Users should be able to respond with numbers (e.g., "1,2,3") or "y/n"
   - **WAIT for user response before proceeding to next question**
   - This creates a natural conversation flow

   **Example conversation:**
   ```
   AI: "What's the main goal? 1. Improve UX 2. Add functionality 3. Both"
   User: "3"
   AI: "What are the must-have requirements? 1. Feature A 2. Feature B 3. Feature C"
   User: "1,2"
   AI: "Are there any technical constraints? (y/n)"
   User: "y"
   AI: "What constraints? (describe briefly)"
   User: "Must work with PostgreSQL"
   ```

   **Questions to gather:**
   - Requirements (must-haves)
   - Out of scope items (explicitly not included)
   - Technical constraints
   - Business constraints

4. **Save context file** to working directory
   - Location: `<project-root>/coderef/working/<feature-name>/context.json`
   - Format (see below)

5. **Present summary** to user for confirmation

**Context File Structure:**
```json
{
  "feature_name": "user-authentication",
  "description": "What the user wants in plain language",
  "goal": "Why they want this feature",
  "requirements": [
    "Must support email/password login",
    "Must have password reset flow",
    "Must integrate with existing user database"
  ],
  "out_of_scope": [
    "OAuth social login (future phase)",
    "Two-factor authentication (future phase)"
  ],
  "constraints": [
    "Must work with existing PostgreSQL database",
    "Must not break current session management"
  ]
}
```

**After context is gathered:**
- User can run `/analyze-for-planning` to discover project details
- Then create implementation plan with clear goal
- Context file provides precise target for planning

**üö® REMINDER: ONE QUESTION AT A TIME üö®**
If you find yourself writing multiple questions in one message, STOP. Delete them. Ask only the first question. Wait for the answer. Then ask the next.

**Key principle:** This is REQUIREMENTS GATHERING, not implementation planning. Keep it simple - just capture WHAT and WHY, not HOW.
