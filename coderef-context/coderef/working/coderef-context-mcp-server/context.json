{
  "feature_name": "coderef-context-mcp-server",
  "description": "A complete MCP server that exposes all 10 modules from @coderef/core as MCP tools and resources, serving as the unified interface for code analysis, context generation, and semantic search",
  "goal": "Build a new MCP server from scratch that wraps the entire @coderef/core system, replacing the existing coderef-mcp server and providing a single unified interface for code analysis, element discovery, dependency graph traversal, context generation (6-phase), RAG integration, and validation",
  "requirements": [
    "Expose Scanner module as MCP tool for element discovery",
    "Expose Analyzer module as MCP tool for dependency graph construction",
    "Expose Query Engine as MCP tool for relationship traversal",
    "Expose Parser module as MCP tool for CodeRef tag parsing",
    "Expose Validator module as MCP tool for reference validation",
    "Expose Exporter module as MCP tool for graph serialization",
    "Expose 6-Phase Context module (ComplexityScorer, TaskContextGenerator, EdgeCaseDetector, TestPatternAnalyzer, ExampleExtractor, AgenticFormatter)",
    "Expose Integration/RAG module for semantic search and Q&A",
    "Provide proper error handling with TypeScript error types",
    "Support all 10 module type definitions and utilities",
    "Implement subprocess communication with @coderef/core CLI",
    "Implement caching strategy for performance",
    "Support both JSON and human-readable output formats",
    "Pass all integration tests with @coderef/core"
  ],
  "out_of_scope": [
    "Building the @coderef/core system itself (already exists)",
    "Creating UI/visualization tools",
    "Modifying existing MCP server implementations (docs-mcp, other servers)"
  ],
  "constraints": [
    "Must be TypeScript-based MCP server (direct access to @coderef/core)",
    "Must build and run on Node.js (v16+)",
    "Must use MCP SDK for TypeScript",
    "Must import and use @coderef/core modules directly (no subprocess wrapper)",
    "Must maintain clean MCP tool contracts",
    "Must handle errors gracefully with proper error types",
    "Must work on Windows and Unix/Linux systems",
    "Performance: response time <2 seconds for most queries (direct imports)",
    "Must support in-memory caching with configurable TTL",
    "Must integrate with existing pnpm monorepo workspace"
  ],
  "decisions": {},
  "success_criteria": {},
  "_metadata": {
    "workorder_id": "WO-CODEREF-CONTEXT-MCP-SERVER-001",
    "workorder_assigned_at": "2025-12-23T23:16:18.095367+00:00",
    "workorder_assigned_by": "gather_context"
  }
}