{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://papertrail/schemas/documentation/foundation-doc-frontmatter-schema.json",
  "title": "Foundation Document YAML Front Matter Schema",
  "description": "Validates YAML front matter for foundation docs (README, ARCHITECTURE, API, SCHEMA, COMPONENTS) generated by coderef-docs. Extends base-frontmatter-schema.json with workorder tracking and doc_type fields.",
  "version": "1.0.0",
  "allOf": [
    {
      "$ref": "./base-frontmatter-schema.json"
    },
    {
      "type": "object",
      "required": ["workorder_id", "generated_by", "feature_id", "doc_type"],
      "properties": {
        "workorder_id": {
          "type": "string",
          "description": "Workorder ID tracking this documentation (format: WO-{FEATURE}-{CATEGORY}-###)",
          "pattern": "^WO-[A-Z0-9-]+-\\d{3}$",
          "examples": [
            "WO-UDS-SYSTEM-001",
            "WO-AUTH-SYSTEM-001",
            "WO-API-REFACTOR-002"
          ]
        },
        "generated_by": {
          "type": "string",
          "description": "MCP server or tool that generated this document",
          "pattern": "^coderef-docs",
          "examples": [
            "coderef-docs v1.2.0",
            "coderef-docs v2.0.0"
          ]
        },
        "feature_id": {
          "type": "string",
          "description": "Feature identifier (kebab-case)",
          "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$",
          "minLength": 1,
          "maxLength": 100,
          "examples": [
            "uds-comprehensive-system",
            "auth-system",
            "api-refactor"
          ]
        },
        "doc_type": {
          "type": "string",
          "description": "Type of foundation document",
          "enum": [
            "readme",
            "architecture",
            "api",
            "schema",
            "components"
          ],
          "examples": [
            "readme",
            "architecture"
          ]
        },
        "title": {
          "type": "string",
          "description": "Optional: Document title",
          "minLength": 1,
          "maxLength": 200,
          "examples": [
            "Papertrail - Universal Documentation Standards",
            "Authentication System Architecture"
          ]
        },
        "version": {
          "type": "string",
          "description": "Optional: Document version (semantic versioning)",
          "pattern": "^\\d+\\.\\d+\\.\\d+$",
          "examples": [
            "1.0.0",
            "2.1.3"
          ]
        },
        "status": {
          "type": "string",
          "description": "Optional: Document status lifecycle",
          "enum": [
            "DRAFT",
            "REVIEW",
            "APPROVED",
            "DEPRECATED"
          ],
          "examples": [
            "APPROVED",
            "DRAFT"
          ]
        }
      }
    }
  ],
  "examples": [
    {
      "agent": "coderef-docs v1.2.0",
      "date": "2026-01-10",
      "task": "DOCUMENT",
      "workorder_id": "WO-UDS-SYSTEM-001",
      "generated_by": "coderef-docs v1.2.0",
      "feature_id": "uds-comprehensive-system",
      "timestamp": "2026-01-10T12:00:00Z",
      "title": "UDS Comprehensive System",
      "version": "1.0.0",
      "status": "APPROVED",
      "doc_type": "readme"
    },
    {
      "agent": "coderef-docs v1.2.0",
      "date": "2026-01-10",
      "task": "DOCUMENT",
      "workorder_id": "WO-AUTH-SYSTEM-001",
      "generated_by": "coderef-docs v1.2.0",
      "feature_id": "auth-system",
      "doc_type": "architecture"
    }
  ]
}
