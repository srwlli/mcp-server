{
  "META_DOCUMENTATION": {
    "feature_name": "my-guide-template",
    "version": "1.0.0",
    "status": "complete",
    "generated_by": "AI Assistant (Claude Code)",
    "generated_date": "2025-10-14",
    "has_context": false,
    "has_analysis": false,
    "warnings": [
      "No context.json available - plan generated without requirements gathering",
      "No project analysis available - using generic preparation section"
    ]
  },
  "UNIVERSAL_PLANNING_STRUCTURE": {
    "0_preparation": {
      "foundation_docs": {
        "available": [
          "README.md",
          "ARCHITECTURE.md",
          "CLAUDE.md",
          "user-guide.md"
        ],
        "missing": [],
        "notes": "Project has comprehensive documentation"
      },
      "coding_standards": {
        "available": [],
        "missing": [
          "No established standards documents"
        ],
        "notes": "Well-structured codebase with clear patterns in existing templates"
      },
      "reference_components": {
        "primary": "templates/power/user-guide.txt",
        "secondary": [
          "templates/power/readme.txt",
          "templates/power/quickref.txt",
          ".claude/commands/generate-user-guide.md",
          "constants.py (TemplateNames enum)"
        ],
        "notes": "Existing template system provides clear implementation pattern"
      },
      "technology_stack": {
        "backend": "Python 3.10+",
        "framework": "MCP Protocol 1.0",
        "libraries": "mcp>=1.0.0, jsonschema>=4.0.0",
        "templates": "POWER framework (txt format)"
      },
      "gaps_and_risks": [
        "Need to ensure my-guide template is concise (60-80 lines) vs comprehensive USER-GUIDE (2000+ lines)",
        "Template output location needs decision: project root like README.md or coderef/foundation-docs/",
        "Naming convention must be consistent: my-guide.md, my-guide.txt, /generate-my-guide"
      ]
    },
    "1_executive_summary": {
      "what": "Add a new concise reference documentation type called 'my-guide' that generates quick MCP tool/command listings similar to the existing my-guide.md file",
      "why": "Provide users with a lightweight alternative to the comprehensive USER-GUIDE.md for quick tool reference lookups without extensive tutorial content",
      "how": "Create POWER framework template, add slash command, update constants, and integrate with existing generate_individual_doc workflow",
      "impact": "Users can quickly generate tool reference documents (60-80 lines) vs comprehensive guides (2000+ lines), improving documentation flexibility",
      "timeline": "2-3 hours implementation + testing",
      "stakeholders": ["docs-mcp users", "AI assistants using the tool", "documentation maintainers"]
    },
    "2_risk_assessment": {
      "technical_risks": [
        {
          "risk": "Template produces output that's too verbose or too sparse",
          "likelihood": "medium",
          "impact": "medium",
          "mitigation": "Use existing my-guide.md as reference for length/content balance, test with actual project data"
        },
        {
          "risk": "Confusion between my-guide.md and USER-GUIDE.md",
          "likelihood": "low",
          "impact": "low",
          "mitigation": "Clear documentation explaining difference: my-guide = quick reference, USER-GUIDE = comprehensive tutorial"
        },
        {
          "risk": "Save location inconsistency with other templates",
          "likelihood": "low",
          "impact": "low",
          "mitigation": "Decide upfront: project root (like README.md) or coderef/foundation-docs/ (like other docs)"
        }
      ],
      "timeline_risks": [
        {
          "risk": "Testing across multiple project types takes longer than expected",
          "likelihood": "low",
          "impact": "low",
          "mitigation": "Focus on docs-mcp project itself for initial testing"
        }
      ],
      "complexity_score": 3,
      "complexity_justification": "Low complexity - follows established template pattern with clear reference implementation"
    },
    "3_current_state_analysis": {
      "existing_functionality": {
        "templates": "6 POWER templates exist (readme, architecture, api, components, schema, user-guide)",
        "slash_commands": "17 slash commands including /generate-user-guide",
        "constants": "TemplateNames enum in constants.py defines valid template names",
        "handlers": "generate_individual_doc handler in tool_handlers.py processes template requests"
      },
      "files_to_create": [
        "templates/power/my-guide.txt - POWER framework template for concise tool reference",
        ".claude/commands/generate-my-guide.md - Slash command definition"
      ],
      "files_to_modify": [
        "constants.py - Add 'my-guide' to TemplateNames enum",
        "CLAUDE.md - Document new template and slash command",
        "user-guide.md - Add /generate-my-guide to slash commands section"
      ],
      "dependencies": [
        "No new external dependencies required",
        "Relies on existing generate_individual_doc handler",
        "Uses established POWER framework structure"
      ]
    },
    "4_key_features": {
      "feature_list": [
        {
          "id": "F1",
          "name": "Concise my-guide POWER Template",
          "description": "Template that generates 60-80 line quick reference documents with MCP tools and slash commands organized by category",
          "priority": "high",
          "complexity": "low"
        },
        {
          "id": "F2",
          "name": "/generate-my-guide Slash Command",
          "description": "Quick access command that invokes generate_individual_doc with template_name='my-guide' using current directory",
          "priority": "high",
          "complexity": "low"
        },
        {
          "id": "F3",
          "name": "TemplateNames Enum Update",
          "description": "Add 'my-guide' to constants.py TemplateNames enum for validation",
          "priority": "high",
          "complexity": "low"
        },
        {
          "id": "F4",
          "name": "Documentation Updates",
          "description": "Update CLAUDE.md and user-guide.md with new template and slash command information",
          "priority": "medium",
          "complexity": "low"
        }
      ],
      "feature_dependencies": {
        "F1": [],
        "F2": ["F1", "F3"],
        "F3": [],
        "F4": ["F1", "F2", "F3"]
      }
    },
    "5_task_id_system": {
      "prefix": "MG",
      "meaning": "My-Guide template implementation",
      "tasks": [
        {
          "id": "MG-001",
          "name": "Create my-guide.txt POWER template",
          "description": "Create templates/power/my-guide.txt following POWER framework structure (framework, purpose, output, work, examples, requirements, save_as, store_as). Template should produce concise 60-80 line documents with MCP tools organized by category (Documentation, Changelog, Standards, Planning) and slash commands by category. Include bullet list format with one-line descriptions per tool/command.",
          "phase": 1,
          "estimated_effort": "45 minutes"
        },
        {
          "id": "MG-002",
          "name": "Add my-guide to TemplateNames enum",
          "description": "Update constants.py to add MY_GUIDE = 'my-guide' to the TemplateNames enum. This enables validation in generate_individual_doc handler to recognize 'my-guide' as a valid template name.",
          "phase": 1,
          "estimated_effort": "5 minutes"
        },
        {
          "id": "MG-003",
          "name": "Create /generate-my-guide slash command",
          "description": "Create .claude/commands/generate-my-guide.md that calls generate_individual_doc with template_name='my-guide' and project_path set to current working directory. Follow pattern from existing /generate-user-guide command for consistency.",
          "phase": 2,
          "estimated_effort": "15 minutes"
        },
        {
          "id": "MG-004",
          "name": "Test template generation on docs-mcp project",
          "description": "Run /generate-my-guide on docs-mcp project itself to verify template produces expected output (60-80 lines, proper tool categorization, correct slash command listings). Validate output matches style of existing my-guide.md file.",
          "phase": 2,
          "estimated_effort": "20 minutes"
        },
        {
          "id": "MG-005",
          "name": "Determine and implement save location logic",
          "description": "Decide whether my-guide.md should save to project root (like README.md) or coderef/foundation-docs/ (like other docs). Update tool handler if special routing is needed (similar to SEC-003 smart output routing for README.md).",
          "phase": 2,
          "estimated_effort": "20 minutes"
        },
        {
          "id": "MG-006",
          "name": "Update CLAUDE.md documentation",
          "description": "Add my-guide template to CLAUDE.md tool catalog. Include in 'For AI Assistants Using This Server' section with description, usage patterns, and examples. Document in 'Tool Catalog' section with purpose, inputs, outputs, and examples.",
          "phase": 3,
          "estimated_effort": "25 minutes"
        },
        {
          "id": "MG-007",
          "name": "Update user-guide.md slash commands section",
          "description": "Add /generate-my-guide to user-guide.md 'Slash Commands Quick Reference' section. Include description, what it does, when to use, what gets created, and example usage following existing slash command documentation pattern.",
          "phase": 3,
          "estimated_effort": "20 minutes"
        },
        {
          "id": "MG-008",
          "name": "Test end-to-end workflow",
          "description": "Test complete workflow: user types /generate-my-guide, AI calls generate_individual_doc, template loads, output generates correctly, file saves to correct location. Verify generated my-guide.md matches expected format and content.",
          "phase": 3,
          "estimated_effort": "15 minutes"
        }
      ]
    },
    "6_implementation_phases": {
      "phase_1": {
        "name": "Template and Constants Setup",
        "description": "Create core template file and update constants to recognize new template type",
        "tasks": ["MG-001", "MG-002"],
        "estimated_duration": "50 minutes",
        "complexity": "low",
        "effort_level": 2,
        "deliverables": [
          "templates/power/my-guide.txt created",
          "constants.py updated with MY_GUIDE enum value"
        ],
        "dependencies": [],
        "success_criteria": "Template file exists with valid POWER structure, TemplateNames enum includes my-guide"
      },
      "phase_2": {
        "name": "Slash Command and Integration",
        "description": "Create slash command, test template generation, and determine save location",
        "tasks": ["MG-003", "MG-004", "MG-005"],
        "estimated_duration": "55 minutes",
        "complexity": "low",
        "effort_level": 2,
        "deliverables": [
          ".claude/commands/generate-my-guide.md created",
          "Template tested and validated on docs-mcp",
          "Save location logic implemented if needed"
        ],
        "dependencies": ["phase_1"],
        "success_criteria": "/generate-my-guide command works, produces 60-80 line output, saves to correct location"
      },
      "phase_3": {
        "name": "Documentation and Testing",
        "description": "Update project documentation and perform end-to-end testing",
        "tasks": ["MG-006", "MG-007", "MG-008"],
        "estimated_duration": "60 minutes",
        "complexity": "low",
        "effort_level": 2,
        "deliverables": [
          "CLAUDE.md updated with new template",
          "user-guide.md updated with new slash command",
          "End-to-end workflow validated"
        ],
        "dependencies": ["phase_2"],
        "success_criteria": "Documentation complete, full workflow tested successfully"
      }
    },
    "7_testing_strategy": {
      "unit_tests": [
        {
          "test_name": "test_my_guide_template_exists",
          "description": "Verify templates/power/my-guide.txt file exists and is readable",
          "scope": "Template file validation"
        },
        {
          "test_name": "test_template_names_enum_includes_my_guide",
          "description": "Verify TemplateNames enum in constants.py includes MY_GUIDE = 'my-guide'",
          "scope": "Constants validation"
        },
        {
          "test_name": "test_generate_individual_doc_accepts_my_guide",
          "description": "Verify generate_individual_doc handler accepts template_name='my-guide' without validation errors",
          "scope": "Handler integration"
        }
      ],
      "integration_tests": [
        {
          "test_name": "test_my_guide_generation_on_docs_mcp",
          "description": "Run /generate-my-guide on docs-mcp project, verify output file created, validate line count (60-80 lines), check tool categorization correctness",
          "scope": "End-to-end template generation"
        },
        {
          "test_name": "test_slash_command_invocation",
          "description": "Test that /generate-my-guide command properly invokes generate_individual_doc with correct parameters (project_path=current directory, template_name='my-guide')",
          "scope": "Slash command workflow"
        }
      ],
      "edge_cases": [
        "Edge case 1: Project with no MCP tools should still generate valid my-guide.md with available content and note the absence of MCP tools",
        "Edge case 2: Project with only slash commands should document slash commands correctly and note missing MCP tools section",
        "Edge case 3: Project with custom slash commands in .claude/commands/ should auto-detect and include custom commands in listings",
        "Edge case 4: Empty project with no MCP tools or slash commands should generate minimal my-guide.md with template structure and placeholder text",
        "Edge case 5: Save location conflict where my-guide.md already exists should overwrite with proper confirmation pattern following existing tool behavior",
        "Edge case 6: Projects with very long tool descriptions should truncate or wrap text appropriately to maintain one-line format",
        "Edge case 7: Projects with non-standard naming conventions in .claude/commands/ should still detect and parse slash command files correctly",
        "Edge case 8: Template generation failure should produce partial output with clear error message indicating what succeeded and what failed"
      ],
      "performance_targets": {
        "template_load_time": "< 10ms",
        "generation_time": "< 30 seconds for typical project",
        "file_save_time": "< 5ms"
      }
    },
    "8_success_criteria": {
      "must_have": [
        "templates/power/my-guide.txt exists with valid POWER framework structure",
        "constants.py TemplateNames enum includes MY_GUIDE = 'my-guide'",
        ".claude/commands/generate-my-guide.md exists and works",
        "/generate-my-guide command successfully generates my-guide.md file",
        "Generated my-guide.md is 60-80 lines (concise reference format)",
        "Output includes MCP tools organized by category (Documentation, Changelog, Standards, Planning)",
        "Output includes slash commands organized by category",
        "File saves to determined location (project root or coderef/foundation-docs/)",
        "CLAUDE.md updated with my-guide template documentation",
        "user-guide.md updated with /generate-my-guide slash command documentation"
      ],
      "nice_to_have": [
        "Template automatically detects and includes custom slash commands from .claude/commands/",
        "Output format matches exact style of existing my-guide.md (consistent formatting)",
        "Template includes usage examples for each tool category",
        "Generated file includes metadata header (generation date, version)"
      ],
      "acceptance_criteria": [
        {
          "criterion": "Template produces concise output",
          "validation": "Generated my-guide.md must be 50-100 lines (allow 20-line buffer around 60-80 target)"
        },
        {
          "criterion": "Tool categorization is accurate",
          "validation": "All MCP tools appear under correct category (Documentation/Changelog/Standards/Planning)"
        },
        {
          "criterion": "Slash command works without parameters",
          "validation": "User can type /generate-my-guide with no additional input and get expected output"
        },
        {
          "criterion": "Output style matches reference",
          "validation": "Generated my-guide.md uses bullet lists with one-line descriptions per tool (consistent with existing my-guide.md)"
        },
        {
          "criterion": "Documentation is complete",
          "validation": "CLAUDE.md and user-guide.md both document the new template and command with examples"
        }
      ]
    },
    "9_implementation_checklist": {
      "phase_1_checklist": [
        {
          "task": "Review existing my-guide.md for style and content patterns",
          "status": "pending",
          "notes": "Reference for template design"
        },
        {
          "task": "Review existing user-guide.txt template for POWER framework structure",
          "status": "pending",
          "notes": "Pattern to follow"
        },
        {
          "task": "Create templates/power/my-guide.txt with POWER framework fields",
          "status": "pending",
          "notes": "Core template file"
        },
        {
          "task": "Define template purpose: concise 60-80 line tool reference",
          "status": "pending",
          "notes": "Clear scope definition"
        },
        {
          "task": "Define template output format: bullet lists by category",
          "status": "pending",
          "notes": "Formatting specification"
        },
        {
          "task": "Define template work instructions: scan MCP tools and slash commands",
          "status": "pending",
          "notes": "AI instructions"
        },
        {
          "task": "Open constants.py and locate TemplateNames enum",
          "status": "pending",
          "notes": "File: constants.py line ~40-50"
        },
        {
          "task": "Add MY_GUIDE = 'my-guide' to TemplateNames enum",
          "status": "pending",
          "notes": "Maintains alphabetical order"
        },
        {
          "task": "Verify no other changes needed in constants.py",
          "status": "pending",
          "notes": "Enum is the only requirement"
        }
      ],
      "phase_2_checklist": [
        {
          "task": "Create .claude/commands/generate-my-guide.md file",
          "status": "pending",
          "notes": "Slash command definition"
        },
        {
          "task": "Copy pattern from .claude/commands/generate-user-guide.md",
          "status": "pending",
          "notes": "Consistency with existing commands"
        },
        {
          "task": "Update command to call generate_individual_doc with template_name='my-guide'",
          "status": "pending",
          "notes": "Core command logic"
        },
        {
          "task": "Test /generate-my-guide command in Claude Code",
          "status": "pending",
          "notes": "Verify command is recognized"
        },
        {
          "task": "Run /generate-my-guide on docs-mcp project",
          "status": "pending",
          "notes": "Generate test output"
        },
        {
          "task": "Verify generated my-guide.md is 60-80 lines",
          "status": "pending",
          "notes": "Check line count: wc -l my-guide.md"
        },
        {
          "task": "Verify tool categorization is correct",
          "status": "pending",
          "notes": "Compare against known MCP tools"
        },
        {
          "task": "Verify slash commands are listed correctly",
          "status": "pending",
          "notes": "Compare against .claude/commands/"
        },
        {
          "task": "Decide save location: project root vs coderef/foundation-docs/",
          "status": "pending",
          "notes": "Recommendation: project root (like README.md)"
        },
        {
          "task": "If project root, update tool handler with smart routing (like SEC-003)",
          "status": "pending",
          "notes": "Add special case for my-guide in save logic"
        },
        {
          "task": "Test save location is correct after generation",
          "status": "pending",
          "notes": "Verify file appears in expected location"
        }
      ],
      "phase_3_checklist": [
        {
          "task": "Open CLAUDE.md and locate 'Tool Catalog' section",
          "status": "pending",
          "notes": "Documentation update"
        },
        {
          "task": "Add generate_my_guide documentation to tool catalog",
          "status": "pending",
          "notes": "Purpose, inputs, outputs, examples"
        },
        {
          "task": "Update 'Usage Patterns' section with my-guide example",
          "status": "pending",
          "notes": "Show typical use case"
        },
        {
          "task": "Open user-guide.md and locate 'Slash Commands Quick Reference' section",
          "status": "pending",
          "notes": "Around line 1110-1520"
        },
        {
          "task": "Add /generate-my-guide to Documentation Commands subsection",
          "status": "pending",
          "notes": "After /generate-user-guide"
        },
        {
          "task": "Include description, what it does, when to use, what gets created",
          "status": "pending",
          "notes": "Follow existing command documentation pattern"
        },
        {
          "task": "Add example usage showing /generate-my-guide invocation",
          "status": "pending",
          "notes": "User types command, AI responds, file created"
        },
        {
          "task": "Update slash commands table with /generate-my-guide entry",
          "status": "pending",
          "notes": "Table around line 1509-1521"
        },
        {
          "task": "Run complete end-to-end test: /generate-my-guide from fresh session",
          "status": "pending",
          "notes": "Simulate user experience"
        },
        {
          "task": "Verify all files created in correct locations",
          "status": "pending",
          "notes": "Template, command, constants, docs"
        },
        {
          "task": "Verify generated my-guide.md matches expected format",
          "status": "pending",
          "notes": "Style, length, content accuracy"
        },
        {
          "task": "Review all changes for consistency and completeness",
          "status": "pending",
          "notes": "Final quality check"
        }
      ]
    }
  }
}
