{
  "META_DOCUMENTATION": {
    "feature_name": "new-index-ui",
    "schema_version": "1.0.0",
    "version": "1.0.0",
    "status": "complete",
    "generated_by": "AI Assistant",
    "has_context": true,
    "has_analysis": true
  },
  "UNIVERSAL_PLANNING_STRUCTURE": {
    "0_preparation": {
      "foundation_docs_available": ["README.md", "USER-GUIDE.md"],
      "foundation_docs_missing": ["API.md", "ARCHITECTURE.md"],
      "coding_standards_available": [],
      "reference_components": [],
      "technology_stack": {
        "language": "HTML/CSS/JavaScript",
        "framework": "None (vanilla)",
        "testing": "Manual browser testing"
      }
    },
    "1_executive_summary": {
      "feature_name": "new-index-ui",
      "description": "Create improved landing page for docs-mcp with dark mode support and ecosystem design patterns",
      "goal": "Comprehensive UI update with correct content, workflow visualization, and dark/light theme toggle",
      "estimated_complexity": "medium",
      "key_deliverables": [
        "new-index.html with dark mode toggle",
        "CSS theme variables for light/dark modes",
        "7-step workflow visualization",
        "Accurate tool counts and version display"
      ]
    },
    "2_risk_assessment": {
      "technical_risks": [
        {
          "risk": "Theme toggle JavaScript complexity",
          "likelihood": "low",
          "impact": "low",
          "mitigation": "Use simple localStorage-based toggle"
        },
        {
          "risk": "Color contrast issues in dark mode",
          "likelihood": "medium",
          "impact": "medium",
          "mitigation": "Test with WCAG contrast checker"
        }
      ],
      "business_risks": [],
      "overall_risk_level": "low"
    },
    "3_current_state_analysis": {
      "files_to_modify": [
        {
          "path": "new-index.html",
          "purpose": "Add dark mode support and theme toggle"
        }
      ],
      "files_to_create": [],
      "files_to_delete": [],
      "dependencies_to_add": []
    },
    "4_key_features": {
      "features": [
        {
          "id": "THEME",
          "name": "Dark Mode Support",
          "description": "Add theme toggle with light/dark modes using CSS variables",
          "priority": "high"
        },
        {
          "id": "VERSION",
          "name": "Correct Version Display",
          "description": "Display v2.0.0 from server.py",
          "priority": "high"
        },
        {
          "id": "WORKFLOW",
          "name": "7-Step Workflow Visualization",
          "description": "Complete feature lifecycle diagram",
          "priority": "high"
        },
        {
          "id": "TOOLS",
          "name": "Tool Categories",
          "description": "38 tools in 9 categories with icons",
          "priority": "medium"
        },
        {
          "id": "RESPONSIVE",
          "name": "Mobile Responsive",
          "description": "Responsive layout for all screen sizes",
          "priority": "medium"
        }
      ]
    },
    "5_task_id_system": {
      "workorder": {
        "id": "WO-NEW-INDEX-UI-001",
        "name": "New Index UI",
        "feature_dir": "coderef/working/new-index-ui"
      },
      "tasks": [
        {
          "id": "THEME-001",
          "workorder_id": "WO-NEW-INDEX-UI-001",
          "description": "Add CSS variables for light and dark themes",
          "feature": "THEME",
          "type": "implementation",
          "priority": "high",
          "estimated_effort": "30min"
        },
        {
          "id": "THEME-002",
          "workorder_id": "WO-NEW-INDEX-UI-001",
          "description": "Create theme toggle button with sun/moon icons",
          "feature": "THEME",
          "type": "implementation",
          "priority": "high",
          "estimated_effort": "20min"
        },
        {
          "id": "THEME-003",
          "workorder_id": "WO-NEW-INDEX-UI-001",
          "description": "Add JavaScript for theme toggle with localStorage persistence",
          "feature": "THEME",
          "type": "implementation",
          "priority": "high",
          "estimated_effort": "20min"
        },
        {
          "id": "THEME-004",
          "workorder_id": "WO-NEW-INDEX-UI-001",
          "description": "Test color contrast for WCAG 2.1 AA compliance",
          "feature": "THEME",
          "type": "testing",
          "priority": "high",
          "estimated_effort": "15min"
        },
        {
          "id": "VERIFY-001",
          "workorder_id": "WO-NEW-INDEX-UI-001",
          "description": "Verify version displays v2.0.0",
          "feature": "VERSION",
          "type": "verification",
          "priority": "high",
          "estimated_effort": "5min"
        },
        {
          "id": "VERIFY-002",
          "workorder_id": "WO-NEW-INDEX-UI-001",
          "description": "Verify 7-step workflow is displayed correctly",
          "feature": "WORKFLOW",
          "type": "verification",
          "priority": "high",
          "estimated_effort": "5min"
        },
        {
          "id": "VERIFY-003",
          "workorder_id": "WO-NEW-INDEX-UI-001",
          "description": "Verify all 38 tools in 9 categories displayed",
          "feature": "TOOLS",
          "type": "verification",
          "priority": "medium",
          "estimated_effort": "5min"
        },
        {
          "id": "TEST-001",
          "workorder_id": "WO-NEW-INDEX-UI-001",
          "description": "Test responsive layout on mobile and tablet",
          "feature": "RESPONSIVE",
          "type": "testing",
          "priority": "medium",
          "estimated_effort": "15min"
        }
      ]
    },
    "6_implementation_phases": {
      "phases": [
        {
          "phase": 1,
          "name": "Theme System Setup",
          "description": "Add CSS variables and theme toggle infrastructure",
          "tasks": ["THEME-001", "THEME-002", "THEME-003"],
          "deliverables": ["CSS variables for light/dark themes", "Theme toggle button", "localStorage persistence"]
        },
        {
          "phase": 2,
          "name": "Verification and Testing",
          "description": "Verify content accuracy and test accessibility",
          "tasks": ["THEME-004", "VERIFY-001", "VERIFY-002", "VERIFY-003", "TEST-001"],
          "deliverables": ["WCAG compliance verified", "Content accuracy confirmed", "Mobile responsiveness tested"]
        }
      ]
    },
    "7_testing_strategy": {
      "unit_tests": [],
      "integration_tests": [],
      "manual_tests": [
        "Toggle between light and dark modes",
        "Verify theme persists after page reload",
        "Check color contrast in both themes",
        "Test on mobile viewport widths",
        "Verify all links work"
      ]
    },
    "8_success_criteria": {
      "functional": [
        "Theme toggle switches between light and dark modes",
        "Theme preference persists in localStorage",
        "All content displays correctly in both themes"
      ],
      "quality": [
        "WCAG 2.1 AA color contrast in both themes",
        "No JavaScript errors in console",
        "Responsive on all screen sizes"
      ],
      "performance": [
        "Page loads in under 1 second",
        "No external dependencies"
      ]
    },
    "9_implementation_checklist": {
      "phases": [
        {
          "phase": 1,
          "name": "Theme System Setup",
          "tasks": [
            {"id": "THEME-001", "description": "Add CSS variables for light and dark themes", "status": "pending"},
            {"id": "THEME-002", "description": "Create theme toggle button with sun/moon icons", "status": "pending"},
            {"id": "THEME-003", "description": "Add JavaScript for theme toggle with localStorage persistence", "status": "pending"}
          ]
        },
        {
          "phase": 2,
          "name": "Verification and Testing",
          "tasks": [
            {"id": "THEME-004", "description": "Test color contrast for WCAG 2.1 AA compliance", "status": "pending"},
            {"id": "VERIFY-001", "description": "Verify version displays v2.0.0", "status": "pending"},
            {"id": "VERIFY-002", "description": "Verify 7-step workflow is displayed correctly", "status": "pending"},
            {"id": "VERIFY-003", "description": "Verify all 38 tools in 9 categories displayed", "status": "pending"},
            {"id": "TEST-001", "description": "Test responsive layout on mobile and tablet", "status": "pending"}
          ]
        }
      ]
    }
  }
}
