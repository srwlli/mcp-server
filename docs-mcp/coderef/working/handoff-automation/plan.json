{
  "META_DOCUMENTATION": {
    "feature_name": "handoff-automation",
    "version": "1.0.0",
    "status": "complete",
    "generated_by": "AI Assistant (Claude Code)",
    "generated_at": "2025-10-18",
    "has_context": true,
    "has_analysis": true,
    "workorder_id": "WO-HANDOFF-AUTOMATION-001",
    "estimated_complexity": "medium",
    "estimated_duration": "3-5 days"
  },
  "UNIVERSAL_PLANNING_STRUCTURE": {
    "0_preparation": {
      "foundation_docs_available": [
        "README.md - Project overview and setup",
        "USER-GUIDE.md - Tool usage documentation",
        "CLAUDE.md - AI assistant context"
      ],
      "foundation_docs_missing": [
        "ARCHITECTURE.md - System design documentation",
        "API.md - API reference",
        "COMPONENTS.md - Component catalog"
      ],
      "coding_standards_available": [],
      "coding_standards_missing": [
        "UI-STANDARDS.md",
        "BEHAVIOR-STANDARDS.md",
        "Must infer patterns from existing tool_handlers.py code"
      ],
      "reference_components": [
        "tool_handlers.py:handle_generate_foundation_docs() - Example of document generation",
        "tool_handlers.py:handle_update_changelog() - Example of file updates",
        "generators/foundation_generator.py - Template rendering patterns",
        ".claude/commands/generate-docs.md - Slash command structure example",
        "templates/power/readme.txt - Template structure example"
      ],
      "technology_stack": {
        "language": "Python 3.11+",
        "framework": "Flask (MCP server)",
        "testing": "pytest",
        "dependencies": "pathlib, json, datetime, subprocess (for git)",
        "file_handling": "pathlib.Path for cross-platform compatibility"
      },
      "project_structure": {
        "tool_definitions": "server.py (register new tool)",
        "tool_handlers": "tool_handlers.py (add handle_generate_handoff_context function)",
        "generators": "generators/handoff_generator.py (new file for handoff logic)",
        "templates": "templates/handoff/ (new directory for claude.md templates)",
        "slash_commands": ".claude/commands/handoff.md (new slash command)",
        "tests": "tests/unit/handlers/test_handoff_handler.py (new test file)"
      },
      "key_patterns_identified": [
        "All tools follow @mcp_error_handler decorator pattern",
        "All handlers return format_success_response() or ErrorResponse",
        "All file I/O uses pathlib.Path for cross-platform support",
        "All generators inherit from BaseGenerator class",
        "Template rendering uses simple string substitution with {{placeholder}} syntax",
        "Git operations use subprocess.run() with proper error handling"
      ],
      "gaps_and_risks": [
        "No formal architecture documentation - must reverse-engineer patterns",
        "No coding standards - must infer consistency rules from existing code",
        "Git history parsing complexity - need robust error handling for various git states",
        "plan.json schema not formally documented - must examine existing plans",
        "Existing claude.md update logic requires careful merge strategy"
      ]
    },
    "1_executive_summary": {
      "feature_name": "Handoff Automation (/handoff command)",
      "description": "Create a /handoff slash command that automatically generates agent context files (claude.md) to enable seamless continuity when one agent passes work to another agent mid-project. The tool will capture current progress, work in progress, and next steps by auto-populating from plan.json, analysis.json, and git history.",
      "business_value": "Reduce agent handoff time from 20-30 minutes to under 5 minutes, enabling faster context transfer and reducing friction in multi-agent workflows. Ensures 100% consistency in handoff documentation and allows new agents to start work immediately without asking questions.",
      "user_story": "As an AI agent completing work on a feature, I want to automatically generate comprehensive handoff context so that the next agent can immediately understand project state, progress, and next steps without manual context gathering.",
      "target_audience": "AI agents working on multi-phase features in the docs-mcp planning workflow",
      "success_metrics": [
        "Handoff time reduced to < 5 minutes (from 20-30 minutes)",
        "80%+ auto-populated context fields (minimal manual input)",
        "100% consistent template structure across all handoffs",
        "New agent productive within 5 minutes of reading context"
      ]
    },
    "2_risk_assessment": {
      "complexity_score": 6,
      "complexity_explanation": "Medium complexity - requires parsing multiple file formats (JSON, git history), template rendering, and intelligent content extraction. Integration with existing tool architecture is well-defined, but git parsing and merge logic add complexity.",
      "technical_risks": [
        {
          "risk": "Git history parsing failures",
          "likelihood": "medium",
          "impact": "medium",
          "mitigation": "Implement robust error handling, graceful degradation if git unavailable, provide manual fallback options"
        },
        {
          "risk": "plan.json schema changes breaking parsing",
          "likelihood": "low",
          "impact": "high",
          "mitigation": "Use defensive parsing with try-except blocks, validate schema before parsing, provide defaults for missing fields"
        },
        {
          "risk": "Existing claude.md file overwrite causing data loss",
          "likelihood": "medium",
          "impact": "high",
          "mitigation": "Create backup before updates, use append-only for critical sections, add --force flag for overwrites, warn user before destructive operations"
        },
        {
          "risk": "Template rendering failures with missing data",
          "likelihood": "low",
          "impact": "low",
          "mitigation": "Provide sensible defaults for all template placeholders, mark missing data clearly with '[DATA NOT AVAILABLE]' markers"
        }
      ],
      "dependencies": [
        "Existing plan.json structure (must remain compatible)",
        "Existing analysis.json structure (optional dependency)",
        "Git repository (optional - tool should work without it)",
        "pathlib, json, datetime, subprocess (standard library)"
      ],
      "timeline_risks": [
        {
          "risk": "Git parsing complexity exceeds estimates",
          "mitigation": "Start with simple git log parsing, defer advanced features like diff statistics to v2"
        },
        {
          "risk": "Merge logic for existing claude.md more complex than expected",
          "mitigation": "Start with simple append strategy, defer smart merging to future phase"
        }
      ]
    },
    "3_current_state_analysis": {
      "existing_functionality": [
        "generate_foundation_docs - Document generation from templates",
        "update_changelog - File update patterns",
        "create_plan - JSON file creation and workorder tracking",
        "BaseGenerator class - Template rendering infrastructure"
      ],
      "files_to_create": [
        "generators/handoff_generator.py - Core handoff context generation logic (est. 250-300 lines)",
        "templates/handoff/claude-full.txt - Full mode template (est. 100 lines)",
        "templates/handoff/claude-minimal.txt - Minimal mode template (est. 50 lines)",
        ".claude/commands/handoff.md - Slash command definition (est. 30 lines)",
        "tests/unit/handlers/test_handoff_handler.py - Unit tests (est. 150 lines)"
      ],
      "files_to_modify": [
        "server.py - Add generate_handoff_context tool definition (add ~15 lines)",
        "tool_handlers.py - Add handle_generate_handoff_context function (add ~50 lines)",
        "constants.py - Add HANDOFF_TEMPLATES_DIR constant if needed (add ~2 lines)",
        "CLAUDE.md - Document new tool (add ~40 lines)",
        "USER-GUIDE.md - Add usage examples (add ~30 lines)"
      ],
      "files_to_not_modify": [
        "existing plan.json files in coderef/working/*/",
        "existing analysis.json files",
        "existing context.json files",
        "other tool handlers (no changes needed)"
      ],
      "integration_points": [
        "Must register tool in server.py TOOLS list",
        "Must follow tool_handlers.py naming convention (handle_*)",
        "Must use @mcp_error_handler decorator",
        "Must return format_success_response() on success",
        "Must save output to coderef/working/{feature-name}/claude.md"
      ]
    },
    "4_key_features": {
      "core_features": [
        {
          "feature": "claude.md Template Rendering",
          "description": "Generate claude.md files from templates with auto-populated sections including Project Overview, Current Progress, Work In Progress, Next Steps, Important Decisions, and File References",
          "acceptance_criteria": [
            "Template renders successfully with all sections",
            "Placeholders replaced with actual data",
            "Missing data shows '[DATA NOT AVAILABLE]' markers",
            "Timestamp included in generated file"
          ]
        },
        {
          "feature": "plan.json Parsing and Progress Extraction",
          "description": "Parse plan.json to extract project goals, architecture, phase objectives, and task completion status (â˜ vs â˜‘)",
          "acceptance_criteria": [
            "Successfully parses valid plan.json files",
            "Extracts completed tasks (â˜‘) vs pending tasks (â˜)",
            "Identifies current phase from task status",
            "Handles missing or malformed plan.json gracefully"
          ]
        },
        {
          "feature": "analysis.json Parsing",
          "description": "Parse analysis.json to extract tech stack, dependencies, file structure, and reference components",
          "acceptance_criteria": [
            "Successfully parses valid analysis.json files",
            "Extracts technology stack information",
            "Identifies key project directories",
            "Handles missing analysis.json gracefully"
          ]
        },
        {
          "feature": "Git History Parsing",
          "description": "Parse git commit history to identify recent changes, progress tracking, and files modified for the feature",
          "acceptance_criteria": [
            "Extracts commits matching feature name (case-insensitive)",
            "Lists files changed in recent commits",
            "Calculates time elapsed from first to last commit",
            "Works without git (graceful degradation)"
          ]
        },
        {
          "feature": "Full vs Minimal Mode Support",
          "description": "Support both full mode (comprehensive context) and minimal mode (quick summary) via --mode parameter",
          "acceptance_criteria": [
            "Full mode uses claude-full.txt template with all sections",
            "Minimal mode uses claude-minimal.txt template with essential sections",
            "Default mode is 'full'",
            "Mode parameter validated (full|minimal)"
          ]
        },
        {
          "feature": "Existing claude.md Update Logic",
          "description": "Handle updates to existing claude.md files without data loss by appending new sections or creating backup",
          "acceptance_criteria": [
            "Detects existing claude.md file",
            "Creates backup before modification",
            "Appends new handoff entry with timestamp",
            "Preserves existing manual edits"
          ]
        }
      ],
      "optional_features": [
        {
          "feature": "Phase Detection",
          "description": "Auto-detect current phase from plan.json structure or directory organization",
          "priority": "nice-to-have",
          "defer_if_time_constrained": true
        },
        {
          "feature": "Git Diff Statistics",
          "description": "Include LOC added/deleted from git diff --stat",
          "priority": "nice-to-have",
          "defer_if_time_constrained": true
        }
      ]
    },
    "5_task_id_system": {
      "workorder_id": "WO-HANDOFF-AUTOMATION-001",
      "task_categories": {
        "SETUP": "Environment and infrastructure setup",
        "TEMPLATE": "Template creation and structure",
        "PARSER": "Data parsing logic (plan.json, analysis.json, git)",
        "GENERATOR": "Core handoff generation logic",
        "HANDLER": "MCP tool handler integration",
        "COMMAND": "Slash command implementation",
        "TEST": "Unit and integration tests",
        "DOCS": "Documentation updates"
      },
      "task_breakdown": [
        {
          "task_id": "SETUP-001",
          "category": "SETUP",
          "description": "Create generators/handoff_generator.py file structure",
          "estimated_effort": "30 minutes"
        },
        {
          "task_id": "SETUP-002",
          "category": "SETUP",
          "description": "Create templates/handoff/ directory and initialize structure",
          "estimated_effort": "15 minutes"
        },
        {
          "task_id": "TEMPLATE-001",
          "category": "TEMPLATE",
          "description": "Create claude-full.txt template with all sections (Project Overview, Current Progress, Work In Progress, Next Steps, Important Decisions, File References)",
          "estimated_effort": "1 hour"
        },
        {
          "task_id": "TEMPLATE-002",
          "category": "TEMPLATE",
          "description": "Create claude-minimal.txt template with essential sections only",
          "estimated_effort": "30 minutes"
        },
        {
          "task_id": "PARSER-001",
          "category": "PARSER",
          "description": "Implement plan.json parser to extract project goals, phases, and task status",
          "estimated_effort": "2 hours"
        },
        {
          "task_id": "PARSER-002",
          "category": "PARSER",
          "description": "Implement analysis.json parser to extract tech stack and project structure",
          "estimated_effort": "1 hour"
        },
        {
          "task_id": "PARSER-003",
          "category": "PARSER",
          "description": "Implement git history parser using subprocess to extract commits and file changes",
          "estimated_effort": "2 hours"
        },
        {
          "task_id": "PARSER-004",
          "category": "PARSER",
          "description": "Add error handling and graceful degradation for missing data sources",
          "estimated_effort": "1 hour"
        },
        {
          "task_id": "GENERATOR-001",
          "category": "GENERATOR",
          "description": "Create HandoffGenerator class inheriting from BaseGenerator",
          "estimated_effort": "1 hour"
        },
        {
          "task_id": "GENERATOR-002",
          "category": "GENERATOR",
          "description": "Implement generate_handoff_context() method with template rendering",
          "estimated_effort": "2 hours"
        },
        {
          "task_id": "GENERATOR-003",
          "category": "GENERATOR",
          "description": "Implement mode selection logic (full vs minimal)",
          "estimated_effort": "30 minutes"
        },
        {
          "task_id": "GENERATOR-004",
          "category": "GENERATOR",
          "description": "Implement existing claude.md detection and backup creation",
          "estimated_effort": "1 hour"
        },
        {
          "task_id": "GENERATOR-005",
          "category": "GENERATOR",
          "description": "Implement append logic for updating existing claude.md files",
          "estimated_effort": "1.5 hours"
        },
        {
          "task_id": "HANDLER-001",
          "category": "HANDLER",
          "description": "Add handle_generate_handoff_context() function to tool_handlers.py",
          "estimated_effort": "1 hour"
        },
        {
          "task_id": "HANDLER-002",
          "category": "HANDLER",
          "description": "Add @mcp_error_handler decorator and proper error responses",
          "estimated_effort": "30 minutes"
        },
        {
          "task_id": "HANDLER-003",
          "category": "HANDLER",
          "description": "Register generate_handoff_context tool in server.py TOOLS list",
          "estimated_effort": "15 minutes"
        },
        {
          "task_id": "COMMAND-001",
          "category": "COMMAND",
          "description": "Create .claude/commands/handoff.md slash command definition",
          "estimated_effort": "30 minutes"
        },
        {
          "task_id": "COMMAND-002",
          "category": "COMMAND",
          "description": "Test slash command invocation and parameter passing",
          "estimated_effort": "30 minutes"
        },
        {
          "task_id": "TEST-001",
          "category": "TEST",
          "description": "Write unit tests for plan.json parser",
          "estimated_effort": "1 hour"
        },
        {
          "task_id": "TEST-002",
          "category": "TEST",
          "description": "Write unit tests for analysis.json parser",
          "estimated_effort": "45 minutes"
        },
        {
          "task_id": "TEST-003",
          "category": "TEST",
          "description": "Write unit tests for git history parser with mocked git commands",
          "estimated_effort": "1.5 hours"
        },
        {
          "task_id": "TEST-004",
          "category": "TEST",
          "description": "Write unit tests for HandoffGenerator template rendering",
          "estimated_effort": "1 hour"
        },
        {
          "task_id": "TEST-005",
          "category": "TEST",
          "description": "Write integration test for full handoff workflow",
          "estimated_effort": "1.5 hours"
        },
        {
          "task_id": "TEST-006",
          "category": "TEST",
          "description": "Test error handling and graceful degradation scenarios",
          "estimated_effort": "1 hour"
        },
        {
          "task_id": "DOCS-001",
          "category": "DOCS",
          "description": "Update CLAUDE.md with generate_handoff_context tool documentation",
          "estimated_effort": "30 minutes"
        },
        {
          "task_id": "DOCS-002",
          "category": "DOCS",
          "description": "Update USER-GUIDE.md with /handoff command usage examples",
          "estimated_effort": "30 minutes"
        },
        {
          "task_id": "DOCS-003",
          "category": "DOCS",
          "description": "Update my-guide.md with tool and command listings",
          "estimated_effort": "15 minutes"
        }
      ]
    },
    "6_implementation_phases": {
      "phase_1_foundation": {
        "phase_name": "Foundation and Templates",
        "objective": "Set up infrastructure, create templates, and establish file structure",
        "tasks": [
          "SETUP-001",
          "SETUP-002",
          "TEMPLATE-001",
          "TEMPLATE-002"
        ],
        "deliverables": [
          "generators/handoff_generator.py (empty class structure)",
          "templates/handoff/claude-full.txt",
          "templates/handoff/claude-minimal.txt"
        ],
        "estimated_duration": "0.5 days",
        "dependencies": [],
        "success_criteria": [
          "Templates render with sample data",
          "File structure matches existing patterns",
          "Templates include all required sections"
        ]
      },
      "phase_2_parsing_logic": {
        "phase_name": "Data Parsing Implementation",
        "objective": "Implement parsers for plan.json, analysis.json, and git history",
        "tasks": [
          "PARSER-001",
          "PARSER-002",
          "PARSER-003",
          "PARSER-004",
          "TEST-001",
          "TEST-002",
          "TEST-003"
        ],
        "deliverables": [
          "plan.json parser with task status extraction",
          "analysis.json parser with tech stack extraction",
          "git history parser with commit extraction",
          "Unit tests for all parsers",
          "Error handling for missing data sources"
        ],
        "estimated_duration": "1.5 days",
        "dependencies": [
          "phase_1_foundation"
        ],
        "success_criteria": [
          "All parsers handle valid input correctly",
          "Parsers degrade gracefully with missing data",
          "Unit tests pass with 80%+ coverage",
          "Error messages are clear and actionable"
        ]
      },
      "phase_3_generation_logic": {
        "phase_name": "Handoff Generation and Integration",
        "objective": "Implement core generation logic, MCP handler, and slash command",
        "tasks": [
          "GENERATOR-001",
          "GENERATOR-002",
          "GENERATOR-003",
          "GENERATOR-004",
          "GENERATOR-005",
          "HANDLER-001",
          "HANDLER-002",
          "HANDLER-003",
          "COMMAND-001",
          "COMMAND-002",
          "TEST-004",
          "TEST-005"
        ],
        "deliverables": [
          "HandoffGenerator class with full functionality",
          "handle_generate_handoff_context() in tool_handlers.py",
          "generate_handoff_context tool registered in server.py",
          ".claude/commands/handoff.md slash command",
          "Integration tests for complete workflow"
        ],
        "estimated_duration": "2 days",
        "dependencies": [
          "phase_2_parsing_logic"
        ],
        "success_criteria": [
          "/handoff command successfully generates claude.md",
          "Both full and minimal modes work correctly",
          "Existing file updates preserve manual edits",
          "Tool integrates seamlessly with MCP server",
          "Integration tests pass"
        ]
      },
      "phase_4_testing_and_docs": {
        "phase_name": "Testing, Documentation, and Polish",
        "objective": "Complete testing coverage, update documentation, and polish UX",
        "tasks": [
          "TEST-006",
          "DOCS-001",
          "DOCS-002",
          "DOCS-003"
        ],
        "deliverables": [
          "Error handling tests",
          "Updated CLAUDE.md with tool documentation",
          "Updated USER-GUIDE.md with usage examples",
          "Updated my-guide.md with tool listing"
        ],
        "estimated_duration": "1 day",
        "dependencies": [
          "phase_3_generation_logic"
        ],
        "success_criteria": [
          "All error scenarios tested and handled",
          "Documentation complete and accurate",
          "Tool ready for production use",
          "User feedback incorporated"
        ]
      }
    },
    "7_testing_strategy": {
      "unit_tests": [
        {
          "test_file": "tests/unit/handlers/test_handoff_handler.py",
          "test_cases": [
            "test_parse_plan_json_valid - Verify plan.json parsing with valid input",
            "test_parse_plan_json_missing - Verify graceful handling of missing plan.json",
            "test_parse_plan_json_malformed - Verify error handling for malformed JSON",
            "test_parse_analysis_json_valid - Verify analysis.json parsing",
            "test_parse_git_history_with_commits - Verify git commit extraction",
            "test_parse_git_history_no_git - Verify handling when git not available",
            "test_parse_git_history_no_commits - Verify handling when no matching commits",
            "test_generate_full_mode - Verify full template rendering",
            "test_generate_minimal_mode - Verify minimal template rendering",
            "test_detect_existing_claude_md - Verify existing file detection",
            "test_backup_existing_claude_md - Verify backup creation",
            "test_append_to_existing_claude_md - Verify append logic",
            "test_error_handling_missing_all_data - Verify graceful degradation",
            "test_workorder_preservation - Verify workorder ID tracking"
          ]
        }
      ],
      "integration_tests": [
        {
          "test_name": "test_full_handoff_workflow",
          "description": "End-to-end test of /handoff command with real project data",
          "setup": "Create test feature with plan.json, analysis.json, and git commits",
          "steps": [
            "Invoke handle_generate_handoff_context with test feature",
            "Verify claude.md created in correct location",
            "Verify all sections populated from data sources",
            "Verify file format and structure correct"
          ],
          "assertions": [
            "claude.md file exists",
            "File contains expected sections",
            "Data auto-populated from sources",
            "Timestamp included"
          ]
        },
        {
          "test_name": "test_handoff_update_existing",
          "description": "Test updating existing claude.md file",
          "setup": "Create claude.md with manual content, then run /handoff",
          "steps": [
            "Create initial claude.md with custom content",
            "Run /handoff on same feature",
            "Verify backup created",
            "Verify original content preserved",
            "Verify new handoff entry appended"
          ],
          "assertions": [
            "Backup file exists",
            "Original content intact",
            "New entry has timestamp",
            "No data loss"
          ]
        }
      ],
      "manual_tests": [
        {
          "test_name": "User acceptance test - First handoff",
          "steps": [
            "Start new feature with /gather-context",
            "Run /analyze-for-planning",
            "Run /create-plan",
            "Make some git commits",
            "Run /handoff",
            "Verify claude.md captures all context correctly"
          ]
        },
        {
          "test_name": "User acceptance test - Mid-phase handoff",
          "steps": [
            "Start with existing feature in progress",
            "Make changes and commits",
            "Run /handoff --mode minimal",
            "Verify minimal context captures essentials"
          ]
        }
      ],
      "test_data": [
        "Sample plan.json with 3 phases and 12 tasks",
        "Sample analysis.json with tech stack",
        "Git repository with 5 feature commits",
        "Existing claude.md file with manual edits"
      ]
    },
    "8_success_criteria": {
      "functional_requirements": [
        "âœ“ Tool successfully generates claude.md files in coderef/working/{feature}/",
        "âœ“ Both full and minimal modes produce valid output",
        "âœ“ plan.json parsing extracts tasks and completion status",
        "âœ“ analysis.json parsing extracts tech stack and structure",
        "âœ“ git history parsing extracts feature-related commits",
        "âœ“ Existing claude.md files backed up before update",
        "âœ“ Append logic preserves manual edits in existing files",
        "âœ“ Tool degrades gracefully when data sources missing",
        "âœ“ /handoff slash command successfully invokes tool",
        "âœ“ Workorder ID preserved throughout workflow"
      ],
      "performance_requirements": [
        "âœ“ Context generation completes in < 5 seconds for typical project",
        "âœ“ Git parsing handles repositories with 1000+ commits efficiently",
        "âœ“ Template rendering completes in < 1 second",
        "âœ“ No memory leaks during repeated invocations"
      ],
      "quality_requirements": [
        "âœ“ Unit test coverage > 80% for all parsers and generators",
        "âœ“ All error scenarios have dedicated tests",
        "âœ“ Integration tests pass for complete workflow",
        "âœ“ Code follows existing patterns (BaseGenerator, @mcp_error_handler)",
        "âœ“ Documentation complete in CLAUDE.md and USER-GUIDE.md",
        "âœ“ No regressions in existing tool functionality"
      ],
      "user_acceptance_criteria": [
        "âœ“ Agent handoff time reduced to < 5 minutes (from 20-30 minutes)",
        "âœ“ 80%+ of context fields auto-populated from data sources",
        "âœ“ New agent can understand project state without asking questions",
        "âœ“ 100% consistent template structure across all handoffs",
        "âœ“ Zero data loss when updating existing claude.md files",
        "âœ“ Error messages are clear and actionable when issues occur"
      ]
    },
    "9_implementation_checklist": {
      "CRITICAL_AGENTIC_WORKFLOW": {
        "purpose": "Enable real-time progress tracking during implementation",
        "instructions": [
          "IMMEDIATELY after completing each task, update plan.json to mark task as complete",
          "Change â˜ to â˜‘ for the completed task in section 9",
          "If using multi-agent coordination: Update communication.json agent status",
          "If blocked: Update plan.json with blocker notes in task description"
        ],
        "workflow_integration": {
          "single_agent": "After completing TASK-ID â†’ Edit plan.json section 9 â†’ Change â˜ to â˜‘ for TASK-ID â†’ Save â†’ Continue next task",
          "multi_agent": "After completing TASK-ID â†’ Update communication.json with agent_X_status â†’ Update plan.json section 9 â†’ Save both â†’ Continue next task"
        },
        "status_values": {
          "not_started": "â˜ TASK-ID: Description",
          "in_progress": "â³ TASK-ID: Description (IN PROGRESS)",
          "blocked": "ðŸš« TASK-ID: Description (BLOCKED: reason)",
          "completed": "â˜‘ TASK-ID: Description"
        },
        "benefits": [
          "Real-time visibility into implementation progress",
          "Clear tracking of what's done, in-progress, or blocked",
          "Easy handoffs between agents (see exact state)",
          "Accurate % completion metrics at any time",
          "Historical record of implementation flow"
        ],
        "example": {
          "before": "â˜ SETUP-001: Create generators/handoff_generator.py file structure",
          "after_complete": "â˜‘ SETUP-001: Create generators/handoff_generator.py file structure",
          "during_work": "â³ PARSER-001: Implement plan.json parser (IN PROGRESS)",
          "if_blocked": "ðŸš« PARSER-003: Implement git history parser (BLOCKED: Need git subprocess examples)"
        }
      },
      "phase_1_foundation": [
        "â˜ SETUP-001: Create generators/handoff_generator.py file structure",
        "â˜ SETUP-002: Create templates/handoff/ directory and initialize structure",
        "â˜ TEMPLATE-001: Create claude-full.txt template with all sections",
        "â˜ TEMPLATE-002: Create claude-minimal.txt template with essential sections"
      ],
      "phase_2_parsing_logic": [
        "â˜ PARSER-001: Implement plan.json parser to extract project goals, phases, and task status",
        "â˜ PARSER-002: Implement analysis.json parser to extract tech stack and project structure",
        "â˜ PARSER-003: Implement git history parser using subprocess to extract commits and file changes",
        "â˜ PARSER-004: Add error handling and graceful degradation for missing data sources",
        "â˜ TEST-001: Write unit tests for plan.json parser",
        "â˜ TEST-002: Write unit tests for analysis.json parser",
        "â˜ TEST-003: Write unit tests for git history parser with mocked git commands"
      ],
      "phase_3_generation_logic": [
        "â˜ GENERATOR-001: Create HandoffGenerator class inheriting from BaseGenerator",
        "â˜ GENERATOR-002: Implement generate_handoff_context() method with template rendering",
        "â˜ GENERATOR-003: Implement mode selection logic (full vs minimal)",
        "â˜ GENERATOR-004: Implement existing claude.md detection and backup creation",
        "â˜ GENERATOR-005: Implement append logic for updating existing claude.md files",
        "â˜ HANDLER-001: Add handle_generate_handoff_context() function to tool_handlers.py",
        "â˜ HANDLER-002: Add @mcp_error_handler decorator and proper error responses",
        "â˜ HANDLER-003: Register generate_handoff_context tool in server.py TOOLS list",
        "â˜ COMMAND-001: Create .claude/commands/handoff.md slash command definition",
        "â˜ COMMAND-002: Test slash command invocation and parameter passing",
        "â˜ TEST-004: Write unit tests for HandoffGenerator template rendering",
        "â˜ TEST-005: Write integration test for full handoff workflow"
      ],
      "phase_4_testing_and_docs": [
        "â˜ TEST-006: Test error handling and graceful degradation scenarios",
        "â˜ DOCS-001: Update CLAUDE.md with generate_handoff_context tool documentation",
        "â˜ DOCS-002: Update USER-GUIDE.md with /handoff command usage examples",
        "â˜ DOCS-003: Update my-guide.md with tool and command listings"
      ]
    }
  }
}
