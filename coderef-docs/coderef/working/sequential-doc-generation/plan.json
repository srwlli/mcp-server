{
  "META_DOCUMENTATION": {
    "workorder_id": "WO-SEQUENTIAL-DOC-GENERATION-001",
    "feature_name": "sequential-doc-generation",
    "created_at": "2025-12-25T00:00:00Z",
    "created_by": "Claude Code AI",
    "last_updated": "2025-12-25T00:00:00Z",
    "status": "approved",
    "version": "1.0.0"
  },
  "UNIVERSAL_PLANNING_STRUCTURE": {
    "0_preparation": {
      "codebase_analysis": {
        "current_generate_docs_behavior": {
          "description": "The /generate-docs slash command currently calls handle_generate_foundation_docs which returns all 5 templates (README, ARCHITECTURE, API, COMPONENTS, SCHEMA) in a single response",
          "code_location": "~/.claude/commands/generate-docs.md and tool_handlers.py lines 117-162",
          "template_loading": "Uses FoundationGenerator.get_templates_for_generation() which loads all 5 templates via loop",
          "response_size": "Returns approximately 1,470 lines of combined template content",
          "timeout_root_cause": "Claude must generate content for all 5 documents in a single response, which exceeds token/time limits"
        },
        "sequential_approach": {
          "description": "Call generate_individual_doc 5 times (one per template) instead of generate_foundation_docs once",
          "code_location": "tool_handlers.py lines 167-201 (handle_generate_individual_doc)",
          "per_call_size": "Returns approximately 250-350 lines per template (1/5 of current size)",
          "workflow": "Each call generates content for one document, saves it, then proceeds to next template",
          "timeout_prevention": "Smaller response size per iteration keeps Claude within token/time limits"
        }
      },
      "foundation_docs_discovered": {
        "README.md": "User-facing project introduction and getting started guide",
        "ARCHITECTURE.md": "System design, patterns, and technical decisions",
        "API.md": "API endpoints, handlers, and integration guide",
        "COMPONENTS.md": "Component hierarchy and UI/UX documentation",
        "SCHEMA.md": "Data models, database schemas, and relationships"
      },
      "coding_standards_available": false,
      "reference_implementation": {
        "handle_generate_individual_doc": {
          "location": "tool_handlers.py lines 167-201",
          "behavior": "Accepts project_path and template_name, returns single template with generation instructions",
          "validation": "Uses validate_project_path_input and validate_template_name_input for security",
          "output_routing": "Uses get_doc_output_path for SEC-003 compliance (README to root, others to coderef/foundation-docs/)",
          "decorators": "@log_invocation and @mcp_error_handler for consistent logging and error handling"
        }
      },
      "technology_stack": {
        "language": "Python 3.11+",
        "framework": "MCP (Model Context Protocol)",
        "key_libraries": ["mcp.types.TextContent", "pathlib.Path"],
        "testing": "pytest with async support",
        "patterns": ["Handler registry pattern", "Decorator pattern for error handling", "TypedDict for responses"]
      },
      "key_patterns_identified": [
        "Handler functions use @log_invocation and @mcp_error_handler decorators",
        "Input validation at boundaries using validation module",
        "ErrorResponse factory for consistent error formatting",
        "Structured logging via logger_config module",
        "Path traversal protection via validate_project_path_input"
      ],
      "gaps_and_risks": [
        {
          "gap": "Slash command update requires global deployment",
          "risk": "Users in other projects won't see updated command without deploying to ~/.claude/commands/",
          "mitigation": "Include global deployment step in implementation checklist"
        },
        {
          "gap": "No rollback mechanism if sequential generation fails mid-way",
          "risk": "Could leave project with partial documentation (2/5 docs generated)",
          "mitigation": "Document expected behavior - partial success is acceptable, user can re-run command"
        },
        {
          "gap": "handle_generate_foundation_docs still exists and is referenced",
          "risk": "Confusion about which tool to use for foundation docs",
          "mitigation": "Add deprecation notice to handle_generate_foundation_docs, update CLAUDE.md to recommend /generate-docs"
        }
      ]
    },
    "1_executive_summary": {
      "overview": "Update the /generate-docs slash command to eliminate timeout errors by switching from batch generation (all 5 templates at once) to sequential generation (5 separate calls to generate_individual_doc). This reduces response size per iteration from ~1,470 lines to ~250-350 lines, keeping Claude within token/time limits while maintaining identical documentation output quality.",
      "primary_goal": "Eliminate timeouts during foundation documentation generation by reducing per-iteration response size by 80%",
      "success_criteria": [
        "Foundation docs generation completes without timeout errors",
        "All 5 documents (README, ARCHITECTURE, API, COMPONENTS, SCHEMA) are generated correctly",
        "Sequential progress is visible to user between each document generation",
        "Command remains simple to use (/generate-docs with no additional parameters)",
        "Updated command is deployed globally to ~/.claude/commands/ for all projects"
      ],
      "expected_outcomes": [
        "Timeout errors during /generate-docs eliminated (0% failure rate vs current ~80-90%)",
        "User sees clear progress markers between each of 5 document generations",
        "Each document generation completes in <30 seconds (vs current >2 minutes for all 5)",
        "Total generation time remains similar (~2-3 minutes for all 5 docs)",
        "Improved user experience with visible progress and predictable completion"
      ],
      "constraints": [
        "Must maintain backward compatibility with existing foundation docs structure",
        "Must preserve SEC-003 output routing (README to root, others to coderef/foundation-docs/)",
        "Must use existing handle_generate_individual_doc without modifications",
        "Must not break existing /generate-user-guide or other slash commands",
        "Must include global deployment step to update command in all projects"
      ],
      "estimated_complexity": "low",
      "estimated_duration": "1-2 hours",
      "business_impact": "high - directly fixes critical usability issue preventing users from generating foundation documentation"
    },
    "2_risk_assessment": {
      "technical_risks": [
        {
          "risk": "Sequential calls might introduce race conditions if parallel execution attempted",
          "probability": "low",
          "impact": "medium",
          "mitigation": "Document that calls must be sequential, add wait/confirmation between iterations"
        },
        {
          "risk": "User might interrupt generation mid-sequence leaving partial docs",
          "probability": "medium",
          "impact": "low",
          "mitigation": "Document expected behavior - partial success is acceptable, user can re-run to complete"
        },
        {
          "risk": "Breaking existing workflows that depend on generate_foundation_docs tool",
          "probability": "low",
          "impact": "low",
          "mitigation": "Keep handle_generate_foundation_docs handler unchanged, only update slash command"
        }
      ],
      "breaking_changes": [
        {
          "change": "Slash command behavior changes from single call to 5 sequential calls",
          "affected_systems": ["~/.claude/commands/generate-docs.md"],
          "migration_required": true,
          "migration_steps": [
            "Deploy updated generate-docs.md to ~/.claude/commands/",
            "Reload Claude Code to pick up new command",
            "Update CLAUDE.md documentation to reflect new workflow"
          ]
        }
      ],
      "rollback_strategy": {
        "triggers": ["Sequential generation fails consistently", "User reports timeout issues persist", "Unexpected errors during document generation"],
        "steps": [
          "Restore original generate-docs.md from git history",
          "Copy restored file to ~/.claude/commands/generate-docs.md",
          "Reload Claude Code",
          "Investigate root cause before attempting fix again"
        ],
        "estimated_downtime": "< 5 minutes",
        "data_loss_risk": "none - only affects command behavior, not data"
      },
      "dependencies": {
        "internal": [
          {
            "component": "handle_generate_individual_doc",
            "version": "current",
            "criticality": "critical",
            "fallback": "None - must remain functional"
          },
          {
            "component": "FOUNDATION_TEMPLATES constant",
            "version": "current",
            "criticality": "critical",
            "fallback": "Hardcode template list in command if constant unavailable"
          }
        ],
        "external": [
          {
            "service": "Claude Code CLI",
            "version": "any",
            "criticality": "critical",
            "fallback": "None - command runs within Claude Code"
          }
        ]
      },
      "security_considerations": [
        {
          "concern": "Path traversal via template_name parameter",
          "current_mitigation": "validate_template_name_input enforces ^[a-zA-Z0-9_-]+$ pattern (SEC-005)",
          "additional_steps": "None - existing validation sufficient"
        },
        {
          "concern": "Project path validation",
          "current_mitigation": "validate_project_path_input resolves and validates paths (SEC-001)",
          "additional_steps": "None - existing validation sufficient"
        }
      ]
    },
    "3_current_state_analysis": {
      "existing_implementation": {
        "generate_foundation_docs_tool": {
          "handler": "handle_generate_foundation_docs (lines 117-162)",
          "behavior": "Returns all 5 templates in single response with generation plan",
          "response_structure": "Generation plan + 5 template sections separated by dividers",
          "total_lines": "~1,470 lines (5 templates × ~250-300 lines each + plan)",
          "timeout_cause": "Claude must process and respond with full content in single turn"
        },
        "generate_individual_doc_tool": {
          "handler": "handle_generate_individual_doc (lines 167-201)",
          "behavior": "Returns single template with generation instructions",
          "response_structure": "Header + template content + save instructions",
          "total_lines": "~250-350 lines per template",
          "timeout_prevention": "Smaller response size fits within token/time limits"
        },
        "current_slash_command": {
          "file": "~/.claude/commands/generate-docs.md",
          "content": "Calls mcp__coderef-docs__generate_foundation_docs with current working directory",
          "instructions": "Analyze project code, fill templates, save 5 documents",
          "deployment": "Global - available in all projects"
        }
      },
      "pain_points": {
        "timeout_frequency": "80-90% of foundation docs generations timeout",
        "user_frustration": "Users must manually call generate_individual_doc 5 times as workaround",
        "inconsistent_success": "Timeouts occur unpredictably based on template content size",
        "no_progress_visibility": "User sees no feedback until all 5 docs attempted (then timeout)",
        "wasted_time": "Timeout after 2+ minutes wastes user's time with no output"
      },
      "what_works_well": {
        "generate_individual_doc": "Consistently works without timeouts when called manually",
        "template_quality": "Foundation templates (README, ARCHITECTURE, etc.) are comprehensive and well-structured",
        "output_routing": "SEC-003 routing (README to root, others to coderef/foundation-docs/) works correctly",
        "validation": "Input validation prevents path traversal and malformed inputs"
      },
      "constraints": [
        "Must use existing handle_generate_individual_doc without modifications",
        "Must maintain SEC-003 output routing behavior",
        "Must preserve all 5 foundation templates in correct order",
        "Must work with current working directory as project_path",
        "Must remain simple single-command invocation (/generate-docs)"
      ]
    },
    "4_key_features": {
      "features": [
        {
          "id": "SEQ-001",
          "name": "Sequential Template Iteration",
          "description": "Iterate through 5 foundation templates (readme, architecture, api, components, schema) in sequence, calling generate_individual_doc for each",
          "priority": "critical",
          "complexity": "low",
          "user_story": "As a user, I want /generate-docs to process templates sequentially so I see progress and avoid timeouts",
          "acceptance_criteria": [
            "Command calls generate_individual_doc 5 times in correct order",
            "Each template name matches FOUNDATION_TEMPLATES constant",
            "Current working directory is passed as project_path to each call",
            "Progress markers are shown between each template generation"
          ]
        },
        {
          "id": "SEQ-002",
          "name": "Progress Visibility",
          "description": "Display clear progress markers between each of 5 document generations so user sees workflow is progressing",
          "priority": "high",
          "complexity": "low",
          "user_story": "As a user, I want to see which document is being generated so I know the command is working",
          "acceptance_criteria": [
            "Progress marker shown before each template generation (e.g., 'Generating README.md (1/5)...')",
            "Clear visual separation between each template generation",
            "Final completion message shown after 5th document"
          ]
        },
        {
          "id": "SEQ-003",
          "name": "Global Command Deployment",
          "description": "Deploy updated command to ~/.claude/commands/ so all projects benefit from the fix",
          "priority": "high",
          "complexity": "low",
          "user_story": "As a user, I want the updated command available in all my projects without manual copying",
          "acceptance_criteria": [
            "Updated generate-docs.md deployed to ~/.claude/commands/",
            "Command works when invoked from any project directory",
            "Backward compatible with existing project structures"
          ]
        },
        {
          "id": "SEQ-004",
          "name": "Documentation Updates",
          "description": "Update CLAUDE.md and README.md to document the new sequential workflow and deprecate generate_foundation_docs for slash command usage",
          "priority": "medium",
          "complexity": "low",
          "user_story": "As a developer, I want clear documentation about the sequential workflow so I understand the new behavior",
          "acceptance_criteria": [
            "CLAUDE.md /generate-docs section updated with sequential workflow explanation",
            "Deprecation notice added to generate_foundation_docs handler documentation",
            "README.md updated if it mentions /generate-docs behavior"
          ]
        }
      ]
    },
    "5_task_id_system": {
      "prefix": "SEQ",
      "categories": {
        "SETUP": "Environment setup and preparation",
        "IMPL": "Core implementation (slash command update)",
        "DEPLOY": "Global deployment of updated command",
        "DOC": "Documentation updates",
        "TEST": "Testing and validation",
        "FINAL": "Finalization and cleanup"
      },
      "format": "SEQ-{CATEGORY}-{NUMBER}",
      "examples": ["SEQ-SETUP-001", "SEQ-IMPL-001", "SEQ-DEPLOY-001", "SEQ-DOC-001", "SEQ-TEST-001"]
    },
    "6_implementation_phases": {
      "phases": [
        {
          "phase_id": "phase_1_setup",
          "phase_name": "Environment Setup",
          "description": "Prepare development environment and verify current behavior",
          "estimated_duration": "15 minutes",
          "tasks": [
            {
              "task_id": "SEQ-SETUP-001",
              "description": "Read current ~/.claude/commands/generate-docs.md to understand existing implementation",
              "estimated_effort": "5 minutes",
              "assigned_to": "agent",
              "dependencies": [],
              "deliverables": ["Current command content saved to reference"]
            },
            {
              "task_id": "SEQ-SETUP-002",
              "description": "Verify FOUNDATION_TEMPLATES constant in foundation_generator.py (lines 28-34)",
              "estimated_effort": "5 minutes",
              "assigned_to": "agent",
              "dependencies": [],
              "deliverables": ["Confirmed template order: readme, architecture, api, components, schema"]
            },
            {
              "task_id": "SEQ-SETUP-003",
              "description": "Test handle_generate_individual_doc manually with test project to verify it works without timeout",
              "estimated_effort": "5 minutes",
              "assigned_to": "agent",
              "dependencies": [],
              "deliverables": ["Successful single-template generation confirmed"]
            }
          ]
        },
        {
          "phase_id": "phase_2_implementation",
          "phase_name": "Command Implementation",
          "description": "Update generate-docs.md to use sequential calls",
          "estimated_duration": "20 minutes",
          "tasks": [
            {
              "task_id": "SEQ-IMPL-001",
              "description": "Create new generate-docs.md with sequential call structure",
              "estimated_effort": "10 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-SETUP-001", "SEQ-SETUP-002"],
              "deliverables": ["Updated generate-docs.md file"]
            },
            {
              "task_id": "SEQ-IMPL-002",
              "description": "Add progress markers between each template generation (e.g., 'Step 1/5: Generating README.md...')",
              "estimated_effort": "5 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-IMPL-001"],
              "deliverables": ["Progress markers inserted in command"]
            },
            {
              "task_id": "SEQ-IMPL-003",
              "description": "Add final completion message after 5th document generation",
              "estimated_effort": "5 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-IMPL-002"],
              "deliverables": ["Completion message added to command"]
            }
          ]
        },
        {
          "phase_id": "phase_3_deployment",
          "phase_name": "Global Deployment",
          "description": "Deploy updated command to global commands directory",
          "estimated_duration": "10 minutes",
          "tasks": [
            {
              "task_id": "SEQ-DEPLOY-001",
              "description": "Copy updated generate-docs.md to ~/.claude/commands/generate-docs.md",
              "estimated_effort": "2 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-IMPL-003"],
              "deliverables": ["Command deployed to global directory"]
            },
            {
              "task_id": "SEQ-DEPLOY-002",
              "description": "Verify file permissions and readability of deployed command",
              "estimated_effort": "3 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-DEPLOY-001"],
              "deliverables": ["Deployment verification confirmed"]
            },
            {
              "task_id": "SEQ-DEPLOY-003",
              "description": "Reload Claude Code window to pick up new command (Ctrl+Shift+P → Developer: Reload Window)",
              "estimated_effort": "5 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-DEPLOY-002"],
              "deliverables": ["Claude Code reloaded successfully"]
            }
          ]
        },
        {
          "phase_id": "phase_4_testing",
          "phase_name": "Testing & Validation",
          "description": "Test sequential generation end-to-end and verify timeout elimination",
          "estimated_duration": "20 minutes",
          "tasks": [
            {
              "task_id": "SEQ-TEST-001",
              "description": "Run /generate-docs in a test project and verify all 5 documents are generated",
              "estimated_effort": "10 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-DEPLOY-003"],
              "deliverables": ["All 5 foundation docs generated successfully without timeout"]
            },
            {
              "task_id": "SEQ-TEST-002",
              "description": "Verify SEC-003 output routing (README in root, others in coderef/foundation-docs/)",
              "estimated_effort": "5 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-TEST-001"],
              "deliverables": ["All documents in correct locations"]
            },
            {
              "task_id": "SEQ-TEST-003",
              "description": "Verify progress markers are displayed between each template generation",
              "estimated_effort": "5 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-TEST-001"],
              "deliverables": ["Progress markers visible and clear"]
            }
          ]
        },
        {
          "phase_id": "phase_5_documentation",
          "phase_name": "Documentation Updates",
          "description": "Update project documentation to reflect new workflow",
          "estimated_duration": "15 minutes",
          "tasks": [
            {
              "task_id": "SEQ-DOC-001",
              "description": "Update CLAUDE.md /generate-docs section to explain sequential workflow",
              "estimated_effort": "5 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-TEST-003"],
              "deliverables": ["CLAUDE.md updated with sequential workflow explanation"]
            },
            {
              "task_id": "SEQ-DOC-002",
              "description": "Add deprecation notice to handle_generate_foundation_docs handler documentation recommending /generate-docs instead",
              "estimated_effort": "5 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-DOC-001"],
              "deliverables": ["Deprecation notice added to tool_handlers.py docstring"]
            },
            {
              "task_id": "SEQ-DOC-003",
              "description": "Update README.md if it mentions /generate-docs behavior",
              "estimated_effort": "5 minutes",
              "assigned_to": "agent",
              "dependencies": ["SEQ-DOC-002"],
              "deliverables": ["README.md updated or confirmed no changes needed"]
            }
          ]
        }
      ]
    },
    "7_testing_strategy": {
      "unit_tests": [
        {
          "test_id": "UT-SEQ-001",
          "description": "Verify generate-docs.md calls generate_individual_doc with correct template names",
          "test_approach": "Manual inspection of command file",
          "expected_result": "5 calls with template_name='readme', 'architecture', 'api', 'components', 'schema'",
          "pass_criteria": "All 5 template names match FOUNDATION_TEMPLATES constant"
        },
        {
          "test_id": "UT-SEQ-002",
          "description": "Verify project_path uses current working directory",
          "test_approach": "Manual inspection of command file",
          "expected_result": "Each call uses 'current working directory' or equivalent",
          "pass_criteria": "project_path parameter correctly specified"
        }
      ],
      "integration_tests": [
        {
          "test_id": "IT-SEQ-001",
          "description": "End-to-end test of /generate-docs in clean project",
          "test_approach": "Create test project, run /generate-docs, verify output",
          "expected_result": "5 documents generated in correct locations without timeout",
          "pass_criteria": "README.md in root, ARCHITECTURE/API/COMPONENTS/SCHEMA in coderef/foundation-docs/"
        },
        {
          "test_id": "IT-SEQ-002",
          "description": "Test progress marker visibility",
          "test_approach": "Run /generate-docs and observe console output",
          "expected_result": "Progress markers displayed between each template",
          "pass_criteria": "User can see which template is currently being generated"
        },
        {
          "test_id": "IT-SEQ-003",
          "description": "Test partial failure recovery (interrupt after 3rd doc)",
          "test_approach": "Interrupt generation mid-sequence, re-run command",
          "expected_result": "Command can be re-run to complete remaining docs",
          "pass_criteria": "No errors when re-running, missing docs are generated"
        }
      ],
      "performance_tests": [
        {
          "test_id": "PT-SEQ-001",
          "description": "Measure per-template generation time",
          "metrics": ["Time per template generation", "Total time for all 5 docs"],
          "baseline": "Current batch approach: >120 seconds (timeout), Sequential approach: <30 seconds per template",
          "target": "Each template completes in <30 seconds, total <2.5 minutes"
        }
      ],
      "user_acceptance_tests": [
        {
          "test_id": "UAT-SEQ-001",
          "scenario": "New user runs /generate-docs for the first time",
          "steps": [
            "Open Claude Code in project directory",
            "Type /generate-docs and press Enter",
            "Observe generation process",
            "Verify all 5 documents are created"
          ],
          "expected_outcome": "User sees clear progress, no timeout, all docs generated successfully",
          "success_criteria": "User reports command works as expected without confusion"
        }
      ]
    },
    "8_success_criteria": {
      "functional_requirements": [
        {
          "requirement": "All 5 foundation documents (README, ARCHITECTURE, API, COMPONENTS, SCHEMA) are generated correctly",
          "verification": "Manual inspection of generated files in test project",
          "acceptance": "All 5 files exist with correct content and formatting"
        },
        {
          "requirement": "No timeout errors during generation",
          "verification": "Run /generate-docs 5 times in different test projects",
          "acceptance": "0 timeout errors across all 5 test runs (0% failure rate)"
        },
        {
          "requirement": "Progress markers visible between each template",
          "verification": "Observe console output during generation",
          "acceptance": "Clear progress indicators shown for each of 5 templates"
        },
        {
          "requirement": "SEC-003 output routing preserved",
          "verification": "Verify file locations after generation",
          "acceptance": "README.md in root, all others in coderef/foundation-docs/"
        },
        {
          "requirement": "Global deployment successful",
          "verification": "Run /generate-docs from non-coderef-docs project",
          "acceptance": "Command works in any project directory"
        }
      ],
      "non_functional_requirements": [
        {
          "requirement": "Per-template generation completes in <30 seconds",
          "metric": "Response time per template",
          "target": "<30 seconds",
          "measurement": "Stopwatch during test runs"
        },
        {
          "requirement": "Total generation time remains reasonable",
          "metric": "Total time for all 5 docs",
          "target": "<3 minutes",
          "measurement": "Stopwatch for complete workflow"
        },
        {
          "requirement": "Command remains simple to use",
          "metric": "User actions required",
          "target": "1 action (/generate-docs)",
          "measurement": "Count of user inputs needed"
        }
      ],
      "quality_metrics": [
        {
          "metric": "Timeout error rate",
          "current_baseline": "80-90% failure rate",
          "target": "0% failure rate",
          "measurement": "Test runs across 10 different projects"
        },
        {
          "metric": "User satisfaction",
          "current_baseline": "Low - users must manually call 5 commands",
          "target": "High - single command works reliably",
          "measurement": "Qualitative feedback from initial users"
        },
        {
          "metric": "Code maintainability",
          "current_baseline": "N/A",
          "target": "No new code complexity - only slash command update",
          "measurement": "Code review of changes"
        }
      ]
    },
    "9_implementation_checklist": {
      "phase_1_setup": [
        {
          "task_id": "SEQ-SETUP-001",
          "description": "Read current ~/.claude/commands/generate-docs.md",
          "status": "pending",
          "assignee": "agent",
          "verification": "Current content saved for reference"
        },
        {
          "task_id": "SEQ-SETUP-002",
          "description": "Verify FOUNDATION_TEMPLATES constant",
          "status": "pending",
          "assignee": "agent",
          "verification": "Template order confirmed"
        },
        {
          "task_id": "SEQ-SETUP-003",
          "description": "Test handle_generate_individual_doc manually",
          "status": "pending",
          "assignee": "agent",
          "verification": "Single template generation works"
        }
      ],
      "phase_2_implementation": [
        {
          "task_id": "SEQ-IMPL-001",
          "description": "Create new generate-docs.md with sequential calls",
          "status": "pending",
          "assignee": "agent",
          "verification": "File contains 5 sequential generate_individual_doc calls"
        },
        {
          "task_id": "SEQ-IMPL-002",
          "description": "Add progress markers between templates",
          "status": "pending",
          "assignee": "agent",
          "verification": "Progress markers present in command"
        },
        {
          "task_id": "SEQ-IMPL-003",
          "description": "Add completion message",
          "status": "pending",
          "assignee": "agent",
          "verification": "Final message added to command"
        }
      ],
      "phase_3_deployment": [
        {
          "task_id": "SEQ-DEPLOY-001",
          "description": "Deploy to ~/.claude/commands/generate-docs.md",
          "status": "pending",
          "assignee": "agent",
          "verification": "File copied to global directory"
        },
        {
          "task_id": "SEQ-DEPLOY-002",
          "description": "Verify file permissions",
          "status": "pending",
          "assignee": "agent",
          "verification": "File is readable"
        },
        {
          "task_id": "SEQ-DEPLOY-003",
          "description": "Reload Claude Code window",
          "status": "pending",
          "assignee": "agent",
          "verification": "Window reloaded successfully"
        }
      ],
      "phase_4_testing": [
        {
          "task_id": "SEQ-TEST-001",
          "description": "Run /generate-docs end-to-end test",
          "status": "pending",
          "assignee": "agent",
          "verification": "All 5 docs generated without timeout"
        },
        {
          "task_id": "SEQ-TEST-002",
          "description": "Verify SEC-003 output routing",
          "status": "pending",
          "assignee": "agent",
          "verification": "Files in correct locations"
        },
        {
          "task_id": "SEQ-TEST-003",
          "description": "Verify progress markers displayed",
          "status": "pending",
          "assignee": "agent",
          "verification": "Progress visible during generation"
        }
      ],
      "phase_5_documentation": [
        {
          "task_id": "SEQ-DOC-001",
          "description": "Update CLAUDE.md /generate-docs section",
          "status": "pending",
          "assignee": "agent",
          "verification": "Sequential workflow documented"
        },
        {
          "task_id": "SEQ-DOC-002",
          "description": "Add deprecation notice to handle_generate_foundation_docs",
          "status": "pending",
          "assignee": "agent",
          "verification": "Deprecation notice added"
        },
        {
          "task_id": "SEQ-DOC-003",
          "description": "Update README.md if needed",
          "status": "pending",
          "assignee": "agent",
          "verification": "README reviewed and updated"
        }
      ]
    }
  }
}
